{{template "header" }}
<script>
    function cbEditForm(text,ele){


        data = $.parseJSON(text)


        if(data.code==200){


            $("#savebutton i").removeClass("fa-save").addClass("fa-check-circle");
            $("#savebutton").removeClass("btn-primary").addClass("btn-success");

        }else{

            $("#savebutton i").removeClass("fa-save").addClass("fa-times-circle");
            $("#savebutton").removeClass("btn-primary").addClass("btn-danger");

        }


        return text;


    }
</script>
<main>
    <div class="container-fluid">
        <h1 class="mt-4">Dashboard</h1>


        <div class="row justify-content-center">
            <div class="col-lg-12">
                <div class="card shadow-lg border-0 rounded-lg mt-5">
                    <div class="card-header"></div>
                    <div class="card-body">
                        <form id="deviceform" hx-post="/devicesave" data-callback="cbEditForm" hx-swap="none" class="row mb-3" method="POST" action="/devicesave" >

                            <div class="col-md-12 mb-3">
                                <div class="form mb-3 mb-md-0">
                                    <label class="form-label" for="deviceid">Mac Address</label>
                                    <input name="id" class="form-control" id="deviceid" value="{{.Device.Id}}" type="text" placeholder="Mac Address ie 08:7d:k3:9f:a9" />
                                </div>
                            </div>
                            <div class="col-md-12 mb-3">
                                <div class="form-group mb-3 mb-md-0">
                                    <label class="form-label" for="devicelabel">Label</label>
                                    <input name="label" class="form-control" id="devicelabel" value="{{.Device.Label}}" type="text" placeholder="Label" />
                                </div>
                            </div>
                            <div class="col-md-12 mb-3">
                                <div class="form mb-3 mb-md-0">
                                    <label class="form-label" for="deviceip">Ip Address</label>
                                    <input name="ip" class="form-control" id="deviceip" value="{{.Device.Ip}}" type="text" placeholder="Ip Address ie 192.168.0.9" />
                                </div>
                            </div>

                            <div class="col-md-12 mb-3">
                                <div class="form mb-3 mb-md-0">
                                    <label class="form-label" for="devicetype">Type</label>
                                    {{.DeviceSelect}}
                                </div>
                            </div>

                            <div class="mt-4 mb-0">
                                <button id="savebutton" class="right btn btn-primary" ><i class="fas fa-save" ></i> Save</button>
                                <a href="/" class="right btn btn-info" ><i class="fas fa-arrow-left" ></i> Back</a>

                            </div>
                        </form>
                    </div>
                    <div class="card-footer text-center py-3">

                    </div>
                </div>
            </div>
        </div>
    </div>
</main>
{{ template "footer" }}