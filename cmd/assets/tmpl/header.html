{{ define "header" }}
<!DOCTYPE html>
<html lang="en">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>{{.Title}}</title>
    <script src="/assets/js/jquery.min.js"></script>
    <link href="/assets/css/style.css" rel="stylesheet">
    <link href="/assets/css/main.css" rel="stylesheet">
    <link href="/assets/css/bootstrap.min.css" rel="stylesheet">
    <link href="/assets/css/allfa.min.css" rel="stylesheet">
    <link href="/assets/css/grid.css" rel="stylesheet">
    <link href="/assets/css/custom-font.css" rel="stylesheet">
    <script src="/assets/js/mustache.js"></script>
    <script src="/assets/js/main.js"></script>
    <script src="/assets/js/search.js"></script>
    <script src="https://unpkg.com/htmx.org@1.4.0" integrity="sha384-wrLYE7mC7Ip5s6FjAQNbvAQy9NXtIoa2st9Llyx7hSLW71xVC0zHOYmfDBQyZeQO" crossorigin="anonymous"></script>
    <script src="/assets/js/gridlist.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
    <script src="/assets/js/jquery.gridlist.js"></script>

    <script>

    window.stringToFunction = function (str) {
        var arr = str.split(".");
        var fn = (window || this);
        for (var i = 0, len = arr.length; i < len; i++) {
            fn = fn[arr[i]];
        }
        if (typeof fn !== "function") {
            throw new Error("function not found");
        }
        return fn;
    };

    htmx.defineExtension('custom-callback', {
        transformResponse : function(text, xhr, elt) {

            var callback = jQuery(elt).data("callback");

            console.log(callback);

            if (callback && callback !== "") {
                var fn = window.stringToFunction(callback);
                if (typeof fn === "function") {

                    text = fn(text,elt);
                } else {
                    console.log("Invalid Callback");
                }
            }

           return text;
        }
    });
   </script>

   </head>
<body class="sb-nav-fixed" hx-ext="custom-callback">
<nav class="sb-topnav navbar navbar-expand navbar-dark bg-dark">
    <a class="navbar-brand" href="/">Broadlink Control</a>
    <button class="btn btn-link btn-sm order-1 order-lg-0" id="sidebarToggle" href="#"><i class="fas fa-bars"></i></button>
    <!-- Navbar Search-->

    <!-- Navbar-->

</nav>
<div id="layoutSidenav">
    <div id="layoutSidenav_nav">
        <nav class="sb-sidenav accordion sb-sidenav-dark" id="sidenavAccordion">
            <div class="sb-sidenav-menu">
                <div class="nav">
                    <div class="sb-sidenav-menu-heading"></div>
                    <a class="nav-link" href="/">
                        <div class="sb-nav-link-icon"><i class="fas fa-tachometer-alt"></i></div>
                        Dashboard
                    </a>
                    <a class="nav-link" href="/commands">
                        <div class="sb-nav-link-icon"><i class="fas fa-terminal"></i></div>
                        Commands
                    </a>
                    <a class="nav-link" href="/macros">
                        <div class="sb-nav-link-icon"><i class="fas fa-puzzle-piece"></i></div>
                        Macros
                    </a>
                    <a class="nav-link" href="/learn">
                        <div class="sb-nav-link-icon"><i class="fas fa-glasses"></i></div>
                        Learn
                    </a>
                    <a class="nav-link" href="/equipments">
                        <div class="sb-nav-link-icon"><i class="fas fa-server"></i></div>
                        Equipment
                    </a>
                    <a class="nav-link" href="/remotes">
                        <div class="sb-nav-link-icon"><i class="fas fa-calculator"></i></div>
                        Remotes
                    </a>

                    <a class="nav-link" target="_blank" href="https://github.com/rob121/broadlinkgo">
                        <div class="sb-nav-link-icon"><i class="fas fa-book"></i></div>
                        Documentation
                    </a>


                </div>
            </div>
            <div class="sb-sidenav-footer">

            </div>
        </nav>
    </div>
    <div id="layoutSidenav_content">
        {{ end }}